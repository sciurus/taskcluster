project_name: "taskcluster-github"
secrets:
  azure_account: ".Values.tfAzureAccount"
  force_ssl: "false"
  github_app_id: ".Values.githubAppId" 
  github_private_pem: ".Values.githubPrivatePem"
  monitoring_enable: "true"
  node_env: "production"
  publish_metadata: "false"
  pulse_hostname: ".Values.pulseHostname"
  pulse_password: ".Values.pulsePassword"
  pulse_username: ".Values.pulseUsername"
  pulse_vhost: ".Values.pulseVhost"
  taskcluster_access_token: ".Values.githubAccessToken"
  taskcluster_client_id: "static/taskcluster/github"
  trust_proxy: "true"
  webhook_secret: ".Values.webhookSecret"
deployments:
  - service_name: "github"
    docker_image: ".Values.dockerImage"
    proc_name: "web"
    readiness_path: "/api/github/v1/ping"
    root_url: ".Values.rootUrl"
    secret_name: "taskcluster-github"
  - service_name: "github"
    background_job: true
    docker_image: ".Values.dockerImage"
    proc_name: "worker"
    readiness_path: "/api/github/v1/ping"
    root_url: ".Values.rootUrl"
    secret_name: "taskcluster-github"
cronjobs:
  - service_name: "github"
    deadline_seconds: 86400
    docker_image: ".Values.dockerImage"
    job_name: "sync"
    root_url: ".Values.rootUrl"
    schedule: "0 0 * * *"
    secret_name: "taskcluster-github"
